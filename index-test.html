<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page avec des cartes PHP</title>
    <!-- Liens vers vos fichiers CSS -->
    <link rel="stylesheet" href="styles.css">
    <!-- Liens vers la bibliothèque Swiper -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
</head>
<body>

    <!-- Votre contenu HTML avant les cartes -->

    <!-- Début de la section où les cartes seront affichées -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <?php
            // Connexion à la base de données
            $host = 'localhost'; // ou l'adresse de votre hébergement Hostinger
            $dbname = 'u818602086_project';
            $username = 'u818602086_project';
            $password = 'Nooneelse123456!';

            try {
                $pdo = new PDO("mysql:host=$host;dbname=$dbname", $username, $password);
                $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

                // Requête SQL pour récupérer les données
                $query = "SELECT title, type, picture, background, description, html, css, js, php, mysql, rust, year FROM project";
                $stmt = $pdo->query($query);

                // Parcourir les résultats et générer les cartes
                while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
                    $title = $row['title'];
                    $type = $row['type'];
                    $picture = $row['picture'];
                    $background = $row['background'];
                    $description = $row['description'];
                    $year = $row['year'];

                    // Générer la carte HTML
                    echo "<div class=\"swiper-slide\">";
                    echo "<div class=\"swiper-card\" style=\"background-image:url('$background')\">";
                    echo "<div class=\"container-bande\">";
                    echo "<div class=\"swiper-head\"><div class=\"swiper-circle\"></div></div>";
                    echo "<div class=\"swiper-border\">$title</div>";
                    echo "<div class=\"techno\">";
                    if ($html) echo "<img class=\"logo html\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/html5.png\">";
                    if ($css) echo "<img class=\"logo css\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/css3.png\">";
                    if ($js) echo "<img class=\"logo js\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/js.png\">";
                    if ($php) echo "<img class=\"logo php\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/php.png\">";
                    if ($mysql) echo "<img class=\"logo mysql\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/mysql.png\">";
                    if ($rust) echo "<img class=\"logo rust\" src=\"https://arnaudlemascon.fr/assets/pictures/logo/rust-logo-blk.webp\">";
                    echo "</div></div>";
                    echo "<div class=\"swiper-img\"><img src=\"$picture\"></div>";
                    echo "<div class=\"container-bande\">";
                    echo "<div class=\"swiper-type\"><div class=\"swiper-circle\"></div></div>";
                    echo "<div class=\"swiper-border\">Projet - $type</div></div>";
                    echo "<div class=\"swiper-description\">$description</div>";
                    echo "<div class=\"swiper-legend\">Arnaud Lemasçon - $year</div>";
                    echo "</div></div>"; // Fermeture des balises swiper-card et swiper-slide
                }

            } catch (PDOException $e) {
                echo "Erreur de connexion : " . $e->getMessage();
            }
            ?>
        </div>
    </div>
    <!-- Fin de la section des cartes -->

    <!-- Votre contenu HTML après les cartes -->

    <!-- Liens vers vos fichiers JavaScript -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
